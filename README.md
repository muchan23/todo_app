# 日記アプリ

その日の出来事を素早く書き留め、同一画面で下部に時系列で蓄積・閲覧できるシンプルな日記アプリです。

## 🎯 特徴

- **シンプルな入力**: 複数行テキストエリアで素早く記録
- **オフライン対応**: ブラウザ内のIndexedDBに保存
- **時系列表示**: 新しい順で記録を一覧表示
- **キーボード操作**: ⌘/Ctrl+Enterで素早く追加
- **データ永続化**: ページ再読み込み後も記録が保持
- **レスポンシブデザイン**: モバイル・デスクトップ対応
- **ダークモード対応**: OSの設定に自動追随

## 🚀 技術スタック

- **フロントエンド**: Next.js 15.5.2 (App Router)
- **言語**: TypeScript
- **データベース**: IndexedDB (Dexie.js)
- **スタイリング**: Tailwind CSS
- **開発環境**: ESLint, Prettier

## 📋 要件定義

詳細な要件定義は [docs/requirements.md](./docs/requirements.md) をご覧ください。

## 🛠️ 開発環境のセットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてアプリケーションを確認できます。

## 📁 プロジェクト構造

```
todo-app/
├── docs/
│   └── requirements.md          # 要件定義書
├── src/
│   ├── app/
│   │   ├── page.tsx             # メインページ
│   │   ├── layout.tsx           # レイアウト
│   │   └── globals.css          # グローバルスタイル
│   ├── components/
│   │   ├── DiaryInput.tsx       # 入力コンポーネント
│   │   ├── DiaryEntry.tsx       # 記録アイテムコンポーネント
│   │   ├── DiaryList.tsx        # 記録一覧コンポーネント
│   │   └── ErrorDisplay.tsx     # エラー表示コンポーネント
│   ├── lib/
│   │   ├── database.ts          # IndexedDB操作
│   │   ├── hooks/
│   │   │   └── useDiary.ts      # 日記操作用カスタムフック
│   │   ├── utils.ts             # ユーティリティ関数
│   │   └── validation.ts        # バリデーション関数
│   └── types/
│       └── index.ts             # 型定義
├── public/                      # 静的ファイル
└── package.json
```

## 🎨 機能

### ✅ 実装済み機能
- [x] 記録の追加（テキストエリア + ボタン/キーボードショートカット）
- [x] 記録の一覧表示（新しい順）
- [x] 記録の削除（確認ダイアログ付き）
- [x] データの永続化（IndexedDB）
- [x] 文字数カウント（1万文字制限）
- [x] バリデーション（空白チェック、文字数制限）
- [x] エラーハンドリング（トースト形式のエラー表示）
- [x] ローディング状態表示
- [x] レスポンシブデザイン
- [x] ダークモード対応
- [x] アクセシビリティ対応

### 🔄 将来の拡張予定
- [ ] 削除後のUndo機能（5秒間）
- [ ] 日付別アーカイブ
- [ ] 記録の編集機能
- [ ] 検索機能
- [ ] エクスポート機能（JSON/Markdown）
- [ ] PWA対応

## 🎮 使用方法

### 記録の追加
1. テキストエリアに今日の出来事を入力
2. 「追加」ボタンをクリック、または ⌘/Ctrl+Enter を押下
3. 記録が一覧の先頭に追加されます

### 記録の削除
1. 記録の右上にある削除ボタン（ゴミ箱アイコン）をクリック
2. 確認ダイアログで「OK」を選択
3. 記録が削除されます

### キーボードショートカット
- **⌘/Ctrl + Enter**: 記録を追加
- **Enter**: 改行（通常の動作）

## 🔧 開発コマンド

```bash
# 開発サーバー起動
npm run dev

# ビルド
npm run build

# 本番サーバー起動
npm run start

# リント
npm run lint
```

## 🧪 テスト

```bash
# 型チェック
npm run type-check

# リント実行
npm run lint
```

## 📱 対応ブラウザ

- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

## 🚨 注意事項

- データはブラウザのIndexedDBに保存されます
- ブラウザのデータを削除すると記録も失われます
- オフライン環境でも動作します

## 📝 ライセンス

このプロジェクトは学習目的で作成されています。

---

**作成者**: [Your Name]  
**作成日**: 2024年12月  
**バージョン**: 1.0.0
